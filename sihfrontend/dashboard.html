<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Drone Electric Fence Detector â€” Dashboard</title>

  <!-- Font Awesome for icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

  <link rel="stylesheet" href="style.css" />
  <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css"/>
</head>
<body>

  <!-- HEADER -->
  <header class="site-header">
    <div class="header-left">
      <div class="brand">
        <img src="assets/oip4.jpeg" alt="oip4" class="brand-icon"/>
        <span class="brand-text">Drone Electric Fence Detector</span>
      </div>
    </div>

    <nav class="header-right">
      <ul class="nav-list">
        <li><a href="home.html">Home</a></li>
        <li><a href="dashboard.html" class="active"><i class="fa-solid fa-chart-line"></i> Dashboard</a></li>
        <li><a href="#support">Support</a></li>
        <li><a href="index.html"><i class="fa-solid fa-right-to-bracket"></i> Logout</a></li>
      </ul>
      <button id="hamburger" aria-label="Open menu" class="hamburger">
        <span></span><span></span><span></span>
      </button>
    </nav>
  </header>

  <!-- MAIN CONTENT -->
  <main class="dashboard-container">
    /* animated drone illustration */
    .scene{position:relative;width:100%;height:320px;background:linear-gradient(180deg,#eafff4, transparent);border-radius:12px;overflow:hidden;padding:12px}
    .ground{position:absolute;left:0;right:0;bottom:0;height:72px;background:linear-gradient(180deg,#cdebd5,#eaf7ef);box-shadow:inset 0 6px 20px rgba(6,76,53,0.03)}
    .drone{position:absolute;width:84px;height:44px;left:20px;top:40px;display:flex;align-items:center;justify-content:center;transform-origin:center;animation:fly 8s linear infinite}
    .drone .body{width:64px;height:28px;background:linear-gradient(90deg,#fff,#f8fafc);border-radius:8px;box-shadow:0 6px 12px rgba(2,6,23,0.06);display:flex;align-items:center;justify-content:center;font-weight:700;color:var(--accent-2)}
    .prop{position:absolute;top:-8px;width:18px;height:6px;background:rgba(10,10,10,.08);border-radius:6px}
    .prop.left{left:-4px}
    .prop.right{right:-4px}
    @keyframes fly{
      0%{transform:translate(0px,0px)}
      25%{transform:translate(220px, -36px) rotate(-8deg)}
      50%{transform:translate(420px, -12px) rotate(4deg)}
      75%{transform:translate(220px, -48px) rotate(-2deg)}
      100%{transform:translate(0px,0px)}
    }


    <!-- Map -->
    <section class="dashboard-card">
      <h2><i class="fa-solid fa-map-location-dot"></i> Drone Location Map</h2>
      <div id="map"></div>
      // inside script.js or in a dashboard-specific block (after Leaflet included)
if (document.getElementById('map') && typeof L !== 'undefined') {
  const defaultLat = 28.7041, defaultLng = 77.1025;
  const map = L.map('map').setView([defaultLat, defaultLng], 13);
  L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', { attribution: '&copy; OSM' }).addTo(map);

  const droneIcon = L.icon({ iconUrl: 'assets/drone-icon.png', iconSize: [40,40], iconAnchor: [20,20] });
  const droneMarker = L.marker([defaultLat, defaultLng], { icon: droneIcon }).addTo(map).bindPopup('Drone');

  // attach updates (localStorage / WS / polling)
  attachDroneLocationUpdates(map, droneMarker);
}

    </section>

    <!-- Detection Info -->
    <section class="dashboard-card">
      <h2><i class="fa-solid fa-bolt"></i> Detection Info</h2>
      <p>Voltage: <span id="voltage">0 V</span></p>
      <p>Status: <span id="status">No Fence Detected</span></p>
      <button class="btn" onclick="triggerAlert()">Test AI Voice Alert</button>
    </section>

    <!-- Camera Feed -->
    <section class="dashboard-card">
      <h2><i class="fa-solid fa-video"></i> Drone Camera Feed</h2>
      <video id="droneCamera" width="100%" height="280" controls autoplay muted>
        <source src="assets/drone_feed.mp4" type="video/mp4">
        Your browser does not support video.
      </video>
    </section>

    <!-- Authorized Users -->
    <section class="dashboard-card">
      <h2><i class="fa-solid fa-users"></i> Authorized Users</h2>
      <ul id="usersList">
        <li>Admin - Zone 1</li>
        <li>Supervisor - Zone 2</li>
        <li>Operator - Zone 3</li>
      </ul>
    </section>
  </main>

  <!-- FOOTER -->
  <footer class="site-footer">
    <div class="footer-left">
      <p style="color:#fff">Contact Us</p>
    </div>
    <div class="footer-center">
      <a href="#"><i class="fa-brands fa-instagram"></i></a>
      <a href="#"><i class="fa-brands fa-whatsapp"></i></a>
      <a href="#"><i class="fa-brands fa-facebook"></i></a>
      <a href="#"><i class="fa-brands fa-twitter"></i></a>
    </div>
    <div class="footer-right">
      <p style="color:#fff">&copy; <span id="yearFooter"></span> Drone Electric Fence Detector</p>
    </div>
  </footer>

  <!-- Scripts -->
  <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
  <script src="script.js"></script>
</body>
</html>
        </div>
        </footer>
    
        <script src="script.js"></script>
    </body>
    </html>